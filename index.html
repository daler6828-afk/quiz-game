<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—è –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
    <style>
        :root {
            --bg: #46178f;
            --white: #ffffff;
            --red: #e21b3c;
            --blue: #1368ce;
            --green: #26890c;
            --yellow: #d89e00;
        }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--bg);
            color: var(--white);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            width: 90%;
            max-width: 600px;
            text-align: center;
        }
        .card {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 { font-size: 2.5em; margin-bottom: 20px; }
        input {
            padding: 15px;
            width: 80%;
            border-radius: 10px;
            border: none;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        .btn {
            border: none;
            padding: 20px 10px;
            color: white;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.1s, filter 0.2s;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }
        .btn:active { transform: translateY(4px); box-shadow: none; }
        .btn:hover { filter: brightness(1.1); }
        
        .red { background: var(--red); }
        .blue { background: var(--blue); }
        .green { background: var(--green); }
        .yellow { background: var(--yellow); }

        .leaderboard {
            background: white;
            color: black;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        .hidden { display: none; }
        .score-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
    </style>
</head>
<body>

<div class="container">
    <div id="start-screen" class="card">
        <h1>üèÜ QUIZ GAME</h1>
        <input type="text" id="username" placeholder="–í–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è...">
        <button class="btn blue" style="width: 85%;" onclick="startGame()">–ù–û–í–ê–Ø –ò–ì–†–ê</button>
    </div>

    <div id="game-screen" class="card hidden">
        <h2 id="question-text">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞...</h2>
        <div class="grid">
            <button id="opt0" class="btn red" onclick="checkAnswer(0)"></button>
            <button id="opt1" class="btn blue" onclick="checkAnswer(1)"></button>
            <button id="opt2" class="btn green" onclick="checkAnswer(2)"></button>
            <button id="opt3" class="btn yellow" onclick="checkAnswer(3)"></button>
        </div>
        <p id="stats" style="margin-top: 20px; opacity: 0.8;"></p>
    </div>

    <div id="end-screen" class="card hidden">
        <h1>–§–∏–Ω–∏—à!</h1>
        <h2 id="final-score">–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 0</h2>
        <div class="leaderboard">
            <h3>–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ (Local):</h3>
            <div id="leader-list"></div>
        </div>
        <button class="btn green" style="width: 100%; margin-top: 20px;" onclick="location.reload()">–ò–ì–†–ê–¢–¨ –°–ù–û–í–ê</button>
    </div>
</div>

<script>
    const questions = [
        { q: "–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü?", a: 0, opts: ["HTML", "Python", "Java", "C++"] },
        { q: "–ß—Ç–æ —Ç–∞–∫–æ–µ CSS?", a: 1, opts: ["–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö", "–°—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã", "–°–µ—Ä–≤–µ—Ä", "–ë—Ä–∞—É–∑–µ—Ä"] },
        { q: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–æ–ª–∏—Ü–∞ –§—Ä–∞–Ω—Ü–∏–∏?", a: 2, opts: ["–õ–æ–Ω–¥–æ–Ω", "–ë–µ—Ä–ª–∏–Ω", "–ü–∞—Ä–∏–∂", "–†–∏–º"] },
        { q: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 2 + 2 * 2?", a: 3, opts: ["8", "4", "5", "6"] },
        { q: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ —Å–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ –≤ –º–∏—Ä–µ?", a: 0, opts: ["–ì–µ–ø–∞—Ä–¥", "–õ–µ–≤", "–û—Ä–µ–ª", "–ê–∫—É–ª–∞"] },
        { q: "–ö–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –∫—Ä–∞—Å–Ω–∞—è?", a: 1, opts: ["–í–µ–Ω–µ—Ä–∞", "–ú–∞—Ä—Å", "–Æ–ø–∏—Ç–µ—Ä", "–°–∞—Ç—É—Ä–Ω"] }
    ];

    let currentIdx = 0;
    let score = 0;
    let userName = "";

    function startGame() {
        userName = document.getElementById('username').value;
        if (!userName) { alert("–í–≤–µ–¥–∏ –∏–º—è!"); return; }
        
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        const q = questions[currentIdx];
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('stats').innerText = `–í–æ–ø—Ä–æ—Å ${currentIdx + 1} –∏–∑ ${questions.length}`;
        
        for (let i = 0; i < 4; i++) {
            document.getElementById(`opt${i}`).innerText = q.opts[i];
        }
    }

    function checkAnswer(idx) {
        if (idx === questions[currentIdx].a) {
            score += 100;
        }
        
        currentIdx++;
        if (currentIdx < questions.length) {
            showQuestion();
        } else {
            showEnd();
        }
    }

    function showEnd() {
        document.getElementById('game-screen').classList.add('hidden');
        document.getElementById('end-screen').classList.remove('hidden');
        document.getElementById('final-score').innerText = `–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score}`;
        
        saveScore(userName, score);
        displayLeaderboard();
    }

    function saveScore(name, points) {
        let history = JSON.parse(localStorage.getItem('quizScores')) || [];
        history.push({name, points});
        // –°–æ—Ä—Ç–∏—Ä—É–µ–º: —Å–Ω–∞—á–∞–ª–∞ —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –æ—á–∫–∏
        history.sort((a, b) => b.points - a.points);
        // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ø-5
        history = history.slice(0, 5);
        localStorage.setItem('quizScores', JSON.stringify(history));
    }

    function displayLeaderboard() {
        const list = document.getElementById('leader-list');
        const history = JSON.parse(localStorage.getItem('quizScores')) || [];
        list.innerHTML = history.map((item, index) => `
            <div class="score-row">
                <span>${index + 1}. ${item.name}</span>
                <b>${item.points}</b>
            </div>
        `).join('');
    }
</script>

</body>
</html>
